# 척도
척도(scale)는 입력되는 정의역(domain)과 출력되는 치역(range)을 매핑한 함수를 말한다.

데이터 집합에 있는 값은 시각화에서 사용할 픽셀 값으로 바로 사용하기에는 적합하지 않다.

척도를 사용하면 데이터 값을 만들려는 시각화에서 필요한 적절한 값으로 비율을 바꿔서 쉽게 매핑할 수 있다.

D3의 척도는 사용자가 정의한 파라미터를 가지고 있는 함수다. 척도를 생성한 후에 데이터 값을 넘겨서 호출하면 비율이 바뀐 출력 값으로 멋지게 반환한다.
<br/>
<br/>

## 정의역과 치역

척도에서 정의역(input domain)이란 입력 가능한 데이터 값의 범위를 말한다.

척도에서 치역(output range)은 보통 화면에 출력하기 위한 데이터 값의 범위로, 단위는 픽셀이다.

가장 짧은 막대의 높이를 10픽셀로, 가장 긴 막대의 높이를 350픽셀로 정했다면, 10에서 350을 그 치역의 범위로 설정해야한다.

## 정규화

정규화(normalizaion)란, 어떤 숫자 값을 최솟값과 최댓값이 0과 1이 되도록 매핑하는 과정이다.

예를 들어, 1년 365일에서 310일은 0.85 혹은 일년의 85%로 매핑된다.

## 척도 만들기

원하는 척도의 종류를 `d3.scale` 뒤에 붙이면 척도 함수 생성자가 된다.

```javascript
const scale = d3.scale.linear(); // 선형 척도 생성
```

정의역을 지정하는 `domain()` 메서드를 이용하면 척도의 정의역을 지정할 수 있다.

```javascript
scale.domain([100, 500]); // 100 ~ 500 범위의 정의역 지정
```

`range()` 메서드를 사용해서 같은 방식으로 치역을 지정할 수 있다.
```javascript
scale.range([10, 350]);
```